name: D√©ploiement Windows GitHub Pages

on:
  push:
    branches:
      - main  # D√©clenche le workflow √† chaque push sur main

jobs:
  deploy:
    runs-on: windows-latest

    steps:
      # 1Ô∏è‚É£ R√©cup√©rer le code
      - name: üì• Checkout repository
        uses: actions/checkout@v4

      # 2Ô∏è‚É£ Configurer Git
      - name: ‚öôÔ∏è Configurer Git
        run: |
          git config user.name "lrhazouli-safwa"
          git config user.email "2005071100217@cmc.ma"

      # 3Ô∏è‚É£ Test simple
      - name: ‚úÖ V√©rifier que tous les fichiers existent
        run: |
          if exist index.html (echo "index.html trouv√©") else (echo "index.html manquant" & exit 1)
          if exist style.css (echo "style.css trouv√©") else (echo "style.css manquant" & exit 1)

      # 4Ô∏è‚É£ Build simul√©
      - name: üèó Build simul√©
        run: |
          echo "Build simul√© pour site PHP/CSS/JS"
          echo "Aucune compilation n√©cessaire"

      # 5Ô∏è‚É£ D√©ployer sur GitHub Pages
      - name: üöÄ D√©ployer sur GitHub Pages
        uses: peaceiris/actions-gh-pages@v7
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./html  # chemin vers ton site
